<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ - ì„¤ë¬¸ í˜ì´ì§€ (SVG ë²„íŠ¼ ì ìš©)</title>
    <style>
        
        /* SUIT í°íŠ¸ ì •ì˜ (ê²½ë¡œ ìœ ì§€) */
        @font-face {
            font-family: 'SUIT';
            src: url('Font/SUIT-Light.ttf') format('truetype');
            font-weight: 300; 
            font-style: normal;
        }
        @font-face {
            font-family: 'SUIT';
            src: url('Font/SUIT-Regular.ttf') format('truetype');
            font-weight: 400; 
            font-style: normal;
        }
        @font-face {
            font-family: 'SUIT';
            src: url('Font/SUIT-Medium.ttf') format('truetype'); 
            font-weight: 500;
            font-style: normal;
        }
        @font-face {
            font-family: 'SUIT';
            src: url('Font/SUIT-Bold.ttf') format('truetype');
            font-weight: 700;
            font-style: normal;
        }
        @font-face {
            font-family: 'SUIT';
            src: url('Font/SUIT-ExtraBold.ttf') format('truetype');
            font-weight: 800; 
            font-style: normal;
        }


        :root {
            --main-text-color: #161317;
            --sub-text-color: #535353;
            --line-color: #ced4da;
            --topbar-height-vw: 27.2vw; 
            --bottombar-height-vw: 21.33vw; 
            --circle-size: 16vw; /* 60px */ 
            --font-suit: 'SUIT', -apple-system, 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            --selected-color: #007bff; 
        }

        body {
            width: 100vw; 
            min-height: 100vh;
            margin: 0;
            padding: 0;
            background-color: #FDFDFD; 
            overflow-x: hidden; 
            font-family: var(--font-suit);
            box-sizing: border-box;
            display: flex; 
            justify-content: center;
        }

        .screen-container {
            width: 100%;
            max-width: 375px; 
            min-height: 100vh;
            position: relative;
            background-color: #FDFDFD;
        }

        .main-content {
            /* 336px ë„ˆë¹„ë¥¼ ìœ„í•´ íŒ¨ë”© ì¡°ì •: 375 - 336 = 39. 39/2 = 19.5px. 19.5px / 3.75 = 5.2vw */
            width: 100%;
            padding: 0 5.2vw; /* 19.5px */
            box-sizing: border-box;
            overflow-y: auto; 
            -webkit-overflow-scrolling: touch; 
        }
        
        .scroll-content-wrapper { 
            width: 100%; 
            padding-top: 8vw; 
            padding-bottom: 5.33vw; 
            position: relative; 
        }
        
        .main-content::-webkit-scrollbar { display: none; }
        .main-content { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* ------------------------- ì„¤ë¬¸ ìš”ì†Œ ìŠ¤íƒ€ì¼ (VWë¡œ ë³€í™˜) ------------------------- */
        
        .question-number { 
            font-family: var(--font-suit); 
            font-size: 4.8vw; 
            font-weight: 800; 
            color: #9A9A9A; 
            margin-top: -1.33vw; 
            margin-bottom: 2.67vw; 
        }
        
        .survey-question { 
            font-family: var(--font-suit); 
            font-size: 4vw; /* 15px */
            font-weight: 700; /* Bold */
            letter-spacing: -0.07vw; /* -0.3px */
            color: var(--main-text-color); 
            line-height: 1.4; 
            margin-bottom: 2.67vw; 
            width: 100%; 
        }
        
        /* .survey-question-blockì˜ width: 100%ëŠ” .main-contentì˜ 5.2vw íŒ¨ë”© ë•ë¶„ì— 336pxì´ ë¨ */
        .survey-question-block { width: 100%; margin-bottom: 5.33vw; padding: 5.33vw; border: 0.5px solid var(--line-color); border-radius: 2.13vw; background-color: #FFFFFF; box-sizing: border-box; box-shadow: 0 0.267vw 0.8vw rgba(0,0,0,0.05); }
        .options-area-wrapper { position: relative; height: var(--circle-size); width: 100%; display: flex; justify-content: space-between; padding: 0; box-sizing: border-box; margin-bottom: 4vw; }
        
        .options-item { 
            position: relative; 
            width: var(--circle-size); 
            height: var(--circle-size); 
            cursor: pointer; 
        }
        
        .options-item img {
            width: 100%;
            height: 100%;
            display: block;
            object-fit: contain;
            z-index: 1; 
        }
        
        .options-description { 
            width: 100%; 
            display: flex; 
            justify-content: space-between; 
            padding: 0; 
            box-sizing: border-box; 
            margin-top: 1.33vw; 
        }
        
        .options-description span {
            font-family: var(--font-suit); 
            font-size: 2.67vw; 
            font-weight: 300; 
            color: var(--sub-text-color);
            width: var(--circle-size); 
            text-align: center; 
            padding: 0;
        }

        .submit-button-container { width: 100%; display: flex; justify-content: center; margin-top: 8vw; padding-bottom: 5.33vw; }
        
        .submit-button { 
            width: 90%; 
            height: 13.33vw; 
            background-color: var(--main-text-color); 
            border: none; 
            border-radius: 2.13vw; 
            font-family: var(--font-suit); 
            font-size: 4.27vw; 
            font-weight: 800; 
            color: #FFFFFF; 
            cursor: pointer; 
            text-align: center; 
        }
        
        .top-quiz-header { width: 100%; display: flex; align-items: center; position: relative; padding-top: 2.67vw; padding-bottom: 8vw; }
        
        .nav-icon { 
            position: absolute; left: 0; z-index: 5; 
            font-family: var(--font-suit); 
            font-size: 6.4vw; 
            font-weight: 300; 
            color: var(--main-text-color); line-height: 1; cursor: pointer; 
        }
        
        .page-indicator { 
            flex-grow: 1; text-align: center; 
            font-family: var(--font-suit); font-size: 3.73vw; font-weight: 400; 
            color: var(--main-text-color); line-height: 1; 
        }

    </style>
</head>
<body>
    <div class="screen-container">

        <div class="main-content">
            <div class="scroll-content-wrapper">
                
                <div class="top-quiz-header">
                    <div class="nav-icon">&lt;</div>
                    <div class="page-indicator">4 / 4</div>
                </div>
                
                <div class="survey-content">
                    
                    <div class="survey-question-block" data-question-id="Q25">
                        <div class="question-number">Q25.</div>
                        <div class="survey-question">ìŠ¤ë§ˆíŠ¸í°ì´ë‚˜ ì¸í„°ë„· ì‚¬ìš© ë•Œë¬¸ì— ê°€ì¡±, ì¹œêµ¬, ì—°ì¸ê³¼ ê°ˆë“±ì„ ê²ªì€ ì ì´ ìˆìŠµë‹ˆê¹Œ?</div>
                        
                        <div class="options-area-wrapper">
                            <div class="options-item" data-value="0">
                                <img src="Image/ê¸°ë³¸ë²„íŠ¼0.svg" alt="ì˜µì…˜ 0 ë²„íŠ¼">
                            </div>
                            <div class="options-item" data-value="1">
                                <img src="Image/ê¸°ë³¸ë²„íŠ¼1.svg" alt="ì˜µì…˜ 1 ë²„íŠ¼">
                            </div>
                            <div class="options-item" data-value="2">
                                <img src="Image/ê¸°ë³¸ë²„íŠ¼2.svg" alt="ì˜µì…˜ 2 ë²„íŠ¼">
                            </div>
                            <div class="options-item" data-value="3">
                                <img src="Image/ê¸°ë³¸ë²„íŠ¼3.svg" alt="ì˜µì…˜ 3 ë²„íŠ¼">
                            </div>
                        </div>
                        
                        <div class="options-description">
                            <span>ì „í˜€ ì•„ë‹ˆë‹¤</span>
                            <span>ë§¤ìš° ê·¸ë ‡ë‹¤</span>
                        </div>
                    </div>
                    
                    <div class="survey-question-block" data-question-id="Q26">
                        <div class="question-number">Q26.</div>
                        <div class="survey-question">ìµœê·¼ í•œ ë‹¬ ë™ì•ˆ, í™”ë¥¼ ëƒˆê±°ë‚˜ ì§œì¦ì„ ë‚¸ ì ì´ ì–¼ë§ˆë‚˜ ìì£¼ ìˆìŠµë‹ˆê¹Œ?</div>
                        <div class="options-area-wrapper">
                            <div class="options-item" data-value="0"><img src="Image/ê¸°ë³¸ë²„íŠ¼0.svg" alt="ì˜µì…˜ 0 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="1"><img src="Image/ê¸°ë³¸ë²„íŠ¼1.svg" alt="ì˜µì…˜ 1 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="2"><img src="Image/ê¸°ë³¸ë²„íŠ¼2.svg" alt="ì˜µì…˜ 2 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="3"><img src="Image/ê¸°ë³¸ë²„íŠ¼3.svg" alt="ì˜µì…˜ 3 ë²„íŠ¼"></div>
                        </div>
                        <div class="options-description">
                            <span>ì „í˜€ ì•„ë‹ˆë‹¤</span>
                            <span>ë§¤ìš° ê·¸ë ‡ë‹¤</span>
                        </div>
                    </div>
                    
                    <div class="survey-question-block" data-question-id="Q27">
                        <div class="question-number">Q27.</div>
                        <div class="survey-question">ì•‰ì•„ì„œ íœ´ì‹ì„ ì·¨í•˜ê±°ë‚˜ ê°€ë§Œíˆ ìˆì„ ë•Œ, ì ë“¤ì–´ë²„ë¦¬ëŠ” ê²½ìš°ê°€ ìˆë‚˜ìš”?</div>
                        <div class="options-area-wrapper">
                            <div class="options-item" data-value="0"><img src="Image/ê¸°ë³¸ë²„íŠ¼0.svg" alt="ì˜µì…˜ 0 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="1"><img src="Image/ê¸°ë³¸ë²„íŠ¼1.svg" alt="ì˜µì…˜ 1 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="2"><img src="Image/ê¸°ë³¸ë²„íŠ¼2.svg" alt="ì˜µì…˜ 2 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="3"><img src="Image/ê¸°ë³¸ë²„íŠ¼3.svg" alt="ì˜µì…˜ 3 ë²„íŠ¼"></div>
                        </div>
                        <div class="options-description">
                            <span>ì „í˜€ ì•„ë‹ˆë‹¤</span>
                            <span>ë§¤ìš° ê·¸ë ‡ë‹¤</span>
                        </div>
                    </div>

                    <div class="survey-question-block" data-question-id="Q28">
                        <div class="question-number">Q28.</div>
                        <div class="survey-question">ìˆ ì„ ë§ˆì‹œëŠ” ê²ƒì´ ì¦ê²ì§€ ì•Šì•„ë„ ë§ˆì…”ì•¼ í•  ê²ƒ ê°™ë‹¤ëŠ” ì••ë°•ê°ì„ ëŠë‚€ ì ì´ ìˆìŠµë‹ˆê¹Œ?</div>
                        <div class="options-area-wrapper">
                            <div class="options-item" data-value="0"><img src="Image/ê¸°ë³¸ë²„íŠ¼0.svg" alt="ì˜µì…˜ 0 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="1"><img src="Image/ê¸°ë³¸ë²„íŠ¼1.svg" alt="ì˜µì…˜ 1 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="2"><img src="Image/ê¸°ë³¸ë²„íŠ¼2.svg" alt="ì˜µì…˜ 2 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="3"><img src="Image/ê¸°ë³¸ë²„íŠ¼3.svg" alt="ì˜µì…˜ 3 ë²„íŠ¼"></div>
                        </div>
                        <div class="options-description">
                            <span>ì „í˜€ ì•„ë‹ˆë‹¤</span>
                            <span>ë§¤ìš° ê·¸ë ‡ë‹¤</span>
                        </div>
                    </div>
                    
                    <div class="survey-question-block" data-question-id="Q29">
                        <div class="question-number">Q29.</div>
                        <div class="survey-question">ì¸í„°ë„·/ìŠ¤ë§ˆíŠ¸í°ì„ ì‚¬ìš©í•˜ëŠ” ì‹œê°„ì„ ì¤„ì´ë ¤ê³  ë…¸ë ¥í–ˆì§€ë§Œ ì‹¤íŒ¨í•œ ì ì´ ìˆë‚˜ìš”?</div>
                        <div class="options-area-wrapper">
                            <div class="options-item" data-value="0"><img src="Image/ê¸°ë³¸ë²„íŠ¼0.svg" alt="ì˜µì…˜ 0 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="1"><img src="Image/ê¸°ë³¸ë²„íŠ¼1.svg" alt="ì˜µì…˜ 1 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="2"><img src="Image/ê¸°ë³¸ë²„íŠ¼2.svg" alt="ì˜µì…˜ 2 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="3"><img src="Image/ê¸°ë³¸ë²„íŠ¼3.svg" alt="ì˜µì…˜ 3 ë²„íŠ¼"></div>
                        </div>
                        <div class="options-description">
                            <span>ì „í˜€ ì•„ë‹ˆë‹¤</span>
                            <span>ë§¤ìš° ê·¸ë ‡ë‹¤</span>
                        </div>
                    </div>
                    
                    <div class="survey-question-block" data-question-id="Q30">
                        <div class="question-number">Q30.</div>
                        <div class="survey-question">ìµœê·¼ í•œ ë‹¬ ë™ì•ˆ, ì‚¬ì†Œí•œ ì¼ì—ë„ ì‰½ê²Œ ê¸´ì¥í•˜ê±°ë‚˜ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ëŠë‚€ ì ì´ ìˆìŠµë‹ˆê¹Œ?</div>
                        <div class="options-area-wrapper">
                            <div class="options-item" data-value="0"><img src="Image/ê¸°ë³¸ë²„íŠ¼0.svg" alt="ì˜µì…˜ 0 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="1"><img src="Image/ê¸°ë³¸ë²„íŠ¼1.svg" alt="ì˜µì…˜ 1 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="2"><img src="Image/ê¸°ë³¸ë²„íŠ¼2.svg" alt="ì˜µì…˜ 2 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="3"><img src="Image/ê¸°ë³¸ë²„íŠ¼3.svg" alt="ì˜µì…˜ 3 ë²„íŠ¼"></div>
                        </div>
                        <div class="options-description">
                            <span>ì „í˜€ ì•„ë‹ˆë‹¤</span>
                            <span>ë§¤ìš° ê·¸ë ‡ë‹¤</span>
                        </div>
                    </div>
                    
                    <div class="survey-question-block" data-question-id="Q31">
                        <div class="question-number">Q31.</div>
                        <div class="survey-question">ì¹¨ëŒ€ì— ëˆ„ì›Œì„œ ì‰¬ê³  ìˆì„ ë•Œ, ì ë“¤ì–´ë²„ë¦¬ëŠ” ê²½ìš°ê°€ ìˆë‚˜ìš”?</div>
                        <div class="options-area-wrapper">
                            <div class="options-item" data-value="0"><img src="Image/ê¸°ë³¸ë²„íŠ¼0.svg" alt="ì˜µì…˜ 0 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="1"><img src="Image/ê¸°ë³¸ë²„íŠ¼1.svg" alt="ì˜µì…˜ 1 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="2"><img src="Image/ê¸°ë³¸ë²„íŠ¼2.svg" alt="ì˜µì…˜ 2 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="3"><img src="Image/ê¸°ë³¸ë²„íŠ¼3.svg" alt="ì˜µì…˜ 3 ë²„íŠ¼"></div>
                        </div>
                        <div class="options-description">
                            <span>ì „í˜€ ì•„ë‹ˆë‹¤</span>
                            <span>ë§¤ìš° ê·¸ë ‡ë‹¤</span>
                        </div>
                    </div>
                    
                    <div class="survey-question-block" data-question-id="Q32">
                        <div class="question-number">Q32.</div>
                        <div class="survey-question">ìˆ ì„ ë§ˆì‹  í›„ ë‹¤ìŒ ë‚ , ì¶œê·¼ì´ë‚˜ ë“±êµ ë“±ì— ì§€ì¥ì„ ë°›ì€ ì ì´ ìˆìŠµë‹ˆê¹Œ?</div>
                        <div class="options-area-wrapper">
                            <div class="options-item" data-value="0"><img src="Image/ê¸°ë³¸ë²„íŠ¼0.svg" alt="ì˜µì…˜ 0 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="1"><img src="Image/ê¸°ë³¸ë²„íŠ¼1.svg" alt="ì˜µì…˜ 1 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="2"><img src="Image/ê¸°ë³¸ë²„íŠ¼2.svg" alt="ì˜µì…˜ 2 ë²„íŠ¼"></div>
                            <div class="options-item" data-value="3"><img src="Image/ê¸°ë³¸ë²„íŠ¼3.svg" alt="ì˜µì…˜ 3 ë²„íŠ¼"></div>
                        </div>
                        <div class="options-description">
                            <span>ì „í˜€ ì•„ë‹ˆë‹¤</span>
                            <span>ë§¤ìš° ê·¸ë ‡ë‹¤</span>
                        </div>
                    </div>
                    
                </div>
                
                <div class="submit-button-container">
                    <button class="submit-button">ê²°ê³¼ ë³´ê¸°</button>
                </div>
                
            </div>
        </div>
        
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // ğŸš¨ğŸš¨ğŸš¨ ë‹¤ì¤‘ í˜ì´ì§€ ê´€ë¦¬ë¥¼ ìœ„í•œ ë³€ìˆ˜ ğŸš¨ğŸš¨ğŸš¨
            const currentPageId = 'page4';
            const nextPageUrl = 'test_Result.html'; 
            const prevPageUrl = 'test_page3.html'; // ì´ì „ í˜ì´ì§€ URL
            const totalPages = 4;
            // ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨ğŸš¨

            // ì§ˆë¬¸ IDì— ë”°ë¥¸ ì„ íƒ ë²„íŠ¼ ìƒ‰ìƒ ë§¤í•‘ (Q1-Q32 ì „ì²´ ë§¤í•‘ í¬í•¨)
            const colorMap = {
                // Page 1 (Q1-Q8)
                'Q1': 'ë…¸ë€', 'Q5': 'ë…¸ë€',
                'Q2': 'ë³´ë¼', 'Q7': 'ë³´ë¼', 
                'Q3': 'í•‘í¬', 'Q6': 'í•‘í¬', 
                'Q4': 'ì´ˆë¡', 'Q8': 'ì´ˆë¡',
                // Page 2 (Q9-Q16)
                'Q9': 'ë…¸ë€', 'Q13': 'ë…¸ë€',
                'Q10': 'ë³´ë¼', 'Q15': 'ë³´ë¼',
                'Q11': 'í•‘í¬', 'Q14': 'í•‘í¬',
                'Q12': 'ì´ˆë¡', 'Q16': 'ì´ˆë¡',
                // Page 3 (Q17-Q24)
                'Q17': 'ë…¸ë€', 'Q21': 'ë…¸ë€',
                'Q19': 'ë³´ë¼', 'Q23': 'ë³´ë¼', 
                'Q18': 'í•‘í¬', 'Q22': 'í•‘í¬', 
                'Q20': 'ì´ˆë¡', 'Q24': 'ì´ˆë¡',
                // Page 4 (Q25-Q32) ğŸš¨ í˜„ì¬ í˜ì´ì§€ ë§¤í•‘
                'Q25': 'ë…¸ë€', 'Q29': 'ë…¸ë€', 
                'Q27': 'ë³´ë¼', 'Q31': 'ë³´ë¼', 
                'Q26': 'í•‘í¬', 'Q30': 'í•‘í¬', 
                'Q28': 'ì´ˆë¡', 'Q32': 'ì´ˆë¡', 
            };

            const options = document.querySelectorAll('.options-item');
            const pageIndicator = document.querySelector('.page-indicator');
            
            // UIì˜ í˜ì´ì§€ ë²ˆí˜¸ ì—…ë°ì´íŠ¸
            pageIndicator.textContent = `${currentPageId.replace('page', '')} / ${totalPages}`;

            // localStorageì—ì„œ ì „ì²´ ë‹µë³€ì„ ë¡œë“œí•˜ê±°ë‚˜, ì—†ìœ¼ë©´ ë¹ˆ ê°ì²´ë¡œ ì´ˆê¸°í™”
            // quizAnswers êµ¬ì¡°: { 'page1': {Q1: '3', Q2: '1', ...}, 'page2': {...}, ... }
            const quizAnswers = JSON.parse(localStorage.getItem('quizAnswers')) || {};
            
            // í˜„ì¬ í˜ì´ì§€ì˜ ë‹µë³€ë§Œ ê°€ì ¸ì˜µë‹ˆë‹¤.
            let answers = quizAnswers[currentPageId] || {}; 
            
            // =========================================================================
            // 1. í•¨ìˆ˜: ì „ì²´ ëˆ„ì  ì ìˆ˜ ê³„ì‚° ë° ë¡œê¹… (ëª¨ë“  í˜ì´ì§€ì˜ ë‹µë³€ì„ í•©ì‚°)
            // =========================================================================
            function calculateTotalScores() {
                // ìƒ‰ìƒë³„ ì ìˆ˜ ë³€ìˆ˜ ì´ˆê¸°í™”
                let Yellow = 0;
                let Purple = 0;
                let Pink = 0;
                let Green = 0;
                
                // localStorageì— ì €ì¥ëœ ëª¨ë“  í˜ì´ì§€ì˜ ë‹µë³€ì„ ìˆœíšŒí•˜ë©° í•©ì‚°
                for (const pageId in quizAnswers) {
                    const pageAnswers = quizAnswers[pageId];
                    
                    for (const qId in pageAnswers) {
                        if(colorMap[qId]) {
                            const score = parseInt(pageAnswers[qId], 10);
                            const color = colorMap[qId];

                            if (color === 'ë…¸ë€') Yellow += score;
                            else if (color === 'ë³´ë¼') Purple += score;
                            else if (color === 'í•‘í¬') Pink += score;
                            else if (color === 'ì´ˆë¡') Green += score;
                        }
                    }
                }

                // ì ìˆ˜ ë¶€ì—¬ í™•ì¸ì„ ìœ„í•œ ì½˜ì†” ì¶œë ¥
                console.log('--- Total Cumulative Scores (All Pages) ---');
                console.log('Yellow Total:', Yellow);
                console.log('Purple Total:', Purple);
                console.log('Pink Total:', Pink);
                console.log('Green Total:', Green);
                console.log('-------------------------------------------');
                
                return { Yellow, Purple, Pink, Green };
            }

            // =========================================================================
            // 2. í•¨ìˆ˜: UI ì´ˆê¸°í™” (ì´ì „ì— ì„ íƒí•œ ë‹µë³€ì„ ë²„íŠ¼ì— í‘œì‹œ)
            // =========================================================================
            function initializeUI() {
                // ì´ì „ì— ì €ì¥ëœ answers ê°ì²´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë²„íŠ¼ ìƒíƒœë¥¼ ë³µì›
                for (const qId in answers) {
                    const value = answers[qId];
                    const questionBlock = document.querySelector(`.survey-question-block[data-question-id="${qId}"]`);
                    
                    if (questionBlock) {
                        const selectedItem = questionBlock.querySelector(`.options-item[data-value="${value}"]`);
                        if (selectedItem) {
                            const color = colorMap[qId];
                            const selectedImg = selectedItem.querySelector('img');
                            
                            // ì„ íƒ ìƒíƒœ ì ìš©
                            selectedImg.src = `Image/${color}ë²„íŠ¼${value}.svg`;
                            selectedItem.classList.add('selected');
                        }
                    }
                }
                // ì´ˆê¸°í™” í›„ ëˆ„ì  ì ìˆ˜ í•œë²ˆ ê³„ì‚° ë° ë¡œê¹…
                calculateTotalScores(); 
            }

            // =========================================================================
            // 3. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬: ì˜µì…˜ í´ë¦­ ì‹œ ìƒíƒœ ë³€ê²½ ë° ì €ì¥
            // =========================================================================
            options.forEach(item => {
                item.addEventListener('click', (event) => {
                    const selectedItem = event.currentTarget;
                    const questionBlock = selectedItem.closest('.survey-question-block');
                    const questionId = questionBlock.dataset.questionId;
                    const value = selectedItem.dataset.value; 
                    
                    // colorMapì— ì •ì˜ë˜ì§€ ì•Šì€ ì§ˆë¬¸ IDëŠ” ë¬´ì‹œ
                    if (!colorMap[questionId]) return;

                    const color = colorMap[questionId];
                    const selectedImg = selectedItem.querySelector('img');
                    const itemValue = selectedItem.dataset.value;

                    // 1. ì´ë¯¸ ì„ íƒëœ í•­ëª©ì„ ë‹¤ì‹œ í´ë¦­í–ˆëŠ”ì§€ í™•ì¸ (í† ê¸€)
                    if (selectedItem.classList.contains('selected')) {
                        // ì´ë¯¸ ì„ íƒëœ ìƒíƒœ: ì„ íƒ í•´ì œ (Deselect)
                        selectedImg.src = `Image/ê¸°ë³¸ë²„íŠ¼${itemValue}.svg`;
                        selectedItem.classList.remove('selected');
                        delete answers[questionId]; // í˜„ì¬ í˜ì´ì§€ì˜ ë‹µë³€ì—ì„œ ì œê±°
                        
                    } else {
                        // ì„ íƒë˜ì§€ ì•Šì€ ìƒíƒœ: ì„ íƒ (Select)

                        // 2. ê°™ì€ ì§ˆë¬¸ ë‚´ì˜ ë‹¤ë¥¸ ì˜µì…˜ ì´ˆê¸°í™” (ê¸°ë³¸ ë²„íŠ¼ìœ¼ë¡œ)
                        const siblings = questionBlock.querySelectorAll('.options-item');
                        siblings.forEach(sibling => {
                            const img = sibling.querySelector('img');
                            const siblingValue = sibling.dataset.value;
                            
                            img.src = `Image/ê¸°ë³¸ë²„íŠ¼${siblingValue}.svg`;
                            sibling.classList.remove('selected');
                        });

                        // 3. í´ë¦­ëœ ì˜µì…˜ ì„ íƒ ìƒíƒœë¡œ ë³€ê²½
                        selectedImg.src = `Image/${color}ë²„íŠ¼${value}.svg`;
                        selectedItem.classList.add('selected');
                        
                        // 4. ë‹µë³€(ì ìˆ˜) ì €ì¥
                        answers[questionId] = value;
                    }
                    
                    // 5. í˜„ì¬ í˜ì´ì§€ì˜ ë‹µë³€ì„ ì „ì²´ ë‹µë³€ ê°ì²´ì— ì—…ë°ì´íŠ¸í•˜ê³  ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
                    quizAnswers[currentPageId] = answers;
                    localStorage.setItem('quizAnswers', JSON.stringify(quizAnswers));
                    
                    // 6. ì ìˆ˜ ì¬ê³„ì‚° (ì½˜ì†” í”¼ë“œë°±ìš©)
                    calculateTotalScores();
                });
            });

            // =========================================================================
            // 4. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬: "<" ì•„ì´ì½˜ í´ë¦­ ì‹œ (ì´ì „ í˜ì´ì§€ë¡œ ì´ë™)
            // =========================================================================
            const navIcon = document.querySelector('.nav-icon');
            navIcon.addEventListener('click', () => {
                window.location.href = prevPageUrl;
            });
            // =========================================================================

            
            // =========================================================================
            // 5. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬: "ê²°ê³¼ ë³´ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ (â­ ìœ íš¨ì„± ê²€ì‚¬ ë° ìµœì¢… ì ìˆ˜ ê³„ì‚° ë¡œì§ ì¶”ê°€ë¨)
            // =========================================================================
            const submitButton = document.querySelector('.submit-button');
            submitButton.addEventListener('click', () => {
                
                // ğŸ’¡ ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§ (Q25-Q32, ì´ 8ê°œ)
                const totalQuestions = 8;
                const answeredQuestions = Object.keys(answers).length;

                // answers ê°ì²´ì˜ í‚¤ ê°œìˆ˜ê°€ 8ê°œê°€ ì•„ë‹ˆë©´ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨
                if (answeredQuestions !== totalQuestions) {
                    alert('ëª¨ë“  ë¬¸í•­ì— ì²´í¬í•´ì•¼ í•©ë‹ˆë‹¤.');
                    return; // ğŸš¨ ì—¬ê¸°ì„œ í•¨ìˆ˜ ì‹¤í–‰ì„ ì¤‘ë‹¨í•˜ì—¬ í˜ì´ì§€ ì´ë™ì„ ë§‰ìŠµë‹ˆë‹¤.
                }
                // =========================================================================

                // 1. í˜„ì¬ í˜ì´ì§€ì˜ ì„ íƒëœ ë‹µë³€ì„ ìµœì¢… ì €ì¥
                quizAnswers[currentPageId] = answers;
                localStorage.setItem('quizAnswers', JSON.stringify(quizAnswers)); // ğŸŒŸ JSON.JSON.stringifyì—ì„œ ìˆ˜ì •ë¨

                // 2. ìµœì¢… ì ìˆ˜ ê³„ì‚°
                const finalScores = calculateTotalScores();
                
                // 3. ê²°ê³¼ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•  ìµœì¢… ì ìˆ˜ë¥¼ localStorageì— ë³„ë„ë¡œ ì €ì¥
                localStorage.setItem('finalQuizScores', JSON.stringify(finalScores));

                // 4. ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
                window.location.href = nextPageUrl;
            });
            
            // í˜ì´ì§€ ë¡œë“œ ì‹œ UI ìƒíƒœ ë³µì›
            initializeUI();
        });
    </script>
</body>
</html>